{"version":3,"file":"app.c28a29fce023eecbcd7e.hot-update.js","sources":["/Users/xavier/Programming/React/watchr2/node_modules/@babel/runtime/helpers/interopRequireDefault.js","/Users/xavier/Programming/React/watchr2/node_modules/@babel/runtime/helpers/interopRequireWildcard.js","/Users/xavier/Programming/React/watchr2/node_modules/@material-ui/icons/Add.js","/Users/xavier/Programming/React/watchr2/node_modules/@material-ui/icons/utils/createSvgIcon.js","/Users/xavier/Programming/React/watchr2/src/Backend/apiCall.js","/Users/xavier/Programming/React/watchr2/src/currentTagPaper.js","/Users/xavier/Programming/React/watchr2/src/tagCards.js","/Users/xavier/Programming/React/watchr2/src/taggedCards.js","/Users/xavier/Programming/React/watchr2/src/tags.js","/Users/xavier/Programming/React/watchr2/src/tagsPaper.js"],"sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var _typeof = require(\"@babel/runtime/helpers/typeof\")[\"default\"];\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nmodule.exports = _interopRequireWildcard;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.createSvgIcon;\n  }\n});\n\nvar _utils = require(\"@material-ui/core/utils\");","/*global chrome*/\nimport React, { Component } from 'react';\nimport '../App.css';\n\nexport default class ApiCall extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      response: '',\n      post: '',\n      responseToPost: '',\n      currentURL: 'https://www.dealstreetasia.com/stories/aiot-startup-aiforward-77m-232438/',\n    };\n    this.sendTags = this.sendTags.bind(this);\n    this.getCurrentURL = this.getCurrentURL.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCurrentURL()\n    // this.getTagApi()\n  }\n  getCurrentURL(){\n    chrome.tabs.query({ currentWindow: true }, tabs => {\n      let url = tabs[0].url;\n      url = url.toString()\n      if(url !== this.state.currentURL){\n        this.setState({\n          currentURL: url\n        })\n        console.log(this.state.currentURL)\n        this.getTagApi(url)\n      }\n    }); \n  }\n \n\n  getTagApi(url) {\n\n    console.log(this.state.currentURL)\n    this.callApi()\n      .then(res => this.sendTags(res.express))\n      .catch(err => console.log(err));\n  }\n\n  callApi = async () => {\n\n    const response = await fetch('http://localhost:5000/api/scrap', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ url: this.state.currentURL }),\n    });\n    const body = await response.json();\n    if (response.status !== 200) throw Error(body.message);\n    return body;\n  };\n\n  sendTags(value) {\n    this.props.getTags(value);\n  }\n\n\n  render() {\n    // let tagArray = this.props.tags;\n\n    return (\n      <div className=\"App\">\n        \n\n        \n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Link from '@material-ui/core/Link';\nimport TagCards from './tagCards';\n\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright Â© '}\n      <Link color=\"inherit\" href=\"https://www.dealstreetasia.com\">\n        NTU and Deal Street Asia\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    height: 'auto'\n  },\n  fixedHeight: {\n    height: 240,\n  },\n}));\n\nexport default function CurrentTagPaper(props) {\n  const classes = useStyles();\n \n \n\n  return (\n    <div className={classes.root}>\n        <Container maxWidth=\"lg\" className={classes.container}>\n            {/* From this article */}\n            <Grid item xs={11}>\n              <Paper className={classes.paper}>\n              {/* generate all tags cards here */}\n              \n                {props.tagArray.map((e)=>{\n                  \n                  return <div key={e} style={{padding: 5}} ><TagCards tagName={e}/></div>\n                })}\n              \n              </Paper>\n            </Grid>\n          \n          <Box pt={4}>\n            <Copyright />\n          </Box>\n        \n        </Container>\n    </div>\n  );\n}","/*global chrome*/\nimport React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport AddIcon from '@material-ui/icons/Add';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    maxWidth: 110,\n    maxHeight: 50\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'column',\n    overflow: 'auto'\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  controls: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingLeft: theme.spacing(1),\n  },\n  title: {\n    fontSize: 12,\n    overflow: 'auto'\n  },\n  addIcon: {\n    height: 10,\n    width: 10,\n  },\n}));\n\n\nfunction saveTag(tagName) {\n  let tagArray = [];\n  chrome.storage.local.get({tags: []}, function(result){\n    var tags = result.tag;\n    if (typeof tags === \"undefined\") {\n      tagArray.push(tagName);\n      chrome.storage.local.set({ tags: tagArray }, function () {\n        console.log('Value is set to ' + tagArray);\n      });\n    } else {\n      let tempArray = [...tags];\n      tempArray.push(tagName)\n      chrome.storage.local.set({ tags: tempArray }, function () {\n        tempArray.map(e => console.log(e))\n      });\n    }\n  })\n  \n}\n\nexport default function TagCards(props) {\n  const classes = useStyles();\n\n\n  return (\n    <Card className={classes.root}>\n      <div className={classes.details}>\n        <div className={classes.controls}>\n          <Typography className={classes.title} color=\"textSecondary\">\n            {props.tagName}\n            {/* Pass in props here */}\n          </Typography>\n          <IconButton aria-label=\"play/pause\" onClick={() => saveTag(props.tagName)}>\n            <AddIcon className={classes.addIcon} />\n          </IconButton>\n\n        </div>\n      </div>\n\n    </Card>\n  );\n}","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport { CardContent } from '@material-ui/core';\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        maxWidth: 110,\n        maxHeight: 50,\n        padding: theme.spacing(1),\n    },\n    content: {\n        flex: '1 0 auto',\n    },\n    title: {\n        fontSize: 12,\n        overflow: 'auto'\n    },\n  \n}));\n\nexport default function TaggedCards(props) {\n    const classes = useStyles();\n\n\n    return (\n        <Card className={classes.root}>\n            \n                <Typography className={classes.title} color=\"textSecondary\">\n                    {props.tagName}\n                    {/* Pass in props here */}\n                </Typography>\n\n        </Card>\n    );\n}","/*global chrome*/\nimport React, { Component } from 'react'\nimport TagsPaper from './tagsPaper'\nimport CurrentTagPaper from './currentTagPaper'\nimport ApiCall from './Backend/apiCall';\n\nexport default class Tags extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tags: [\"\"],\n            savedTags: [\"\"]\n        };\n        this.getTags = this.getTags.bind(this);\n        this.getChromeStoragefunction = this.getChromeStoragefunction.bind(this);\n        this.saveArrayToState = this.saveArrayToState.bind(this);\n    }\n\n    componentDidMount() {\n        let newThis = this;\n        chrome.storage.local.get(['tags'], function (result) {\n            // console.log(\"retrieved tags is\" + result.tags);\n            newThis.saveArrayToState(result.tags);\n        });\n        this.getChromeStoragefunction();\n    }\n\n    componentWillUnmount() {\n        let newThis = this;\n        chrome.storage.local.set({ tags: newThis.state.savedTags }, function () {\n            console.log(\"saved: \" + newThis.state.savedTags);\n        })\n    }\n\n    getChromeStoragefunction() {\n        let newThis = this;\n        chrome.storage.onChanged.addListener(function (changes, namespace) {\n            let tempArray = [...newThis.state.savedTags];\n            for (var key in changes) {\n                var storageChange = changes[key];\n                storageChange.newValue.map(e => { \n                    if (!tempArray.includes(e)){\n                        tempArray.push(e)\n                    } \n                })\n                newThis.saveArrayToState(tempArray);\n            }\n        });\n    }\n\n    saveArrayToState = (array) => {\n        this.setState({\n            savedTags: array\n        })\n    }\n    getTags(e) {\n        this.setState({\n            tags: e\n        })\n        console.log(e)\n    }\n\n    render() {\n\n        return (\n            <div >\n                <p>\n                    Get recommendations for articles that matches your\n                    interests when you follow more tags:\n                </p>\n                <b>\n                    You are following\n                </b>\n                <div style={{paddingLeft: 10}}>\n                <TagsPaper savedTagArray={this.state.savedTags} />\n                </div>\n                <b>\n                    From this article\n                </b>\n                <div style={{paddingLeft: 10}}>\n                <CurrentTagPaper tagArray={this.state.tags} />\n                </div>\n                <ApiCall getTags={this.getTags} tags={this.state.tags} />\n            </div>\n        )\n    }\n}\n","import { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TaggedCards from './taggedCards';\n\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    height: 'auto'\n  },\n  \n}));\n\n\n\nexport default function TagsPaper(props) {\n  let showTagCards;\n  const classes = useStyles();\n  if (props.savedTagArray[0] === \"\") {\n    showTagCards = <p>\n      None Yet. Start Following Tags!\n    </p>\n  }\n  else{\n    showTagCards =  props.savedTagArray.map((e)=>{\n                  \n      return <div key={e} style={{marginLeft: 5, marginBottom: 2}} ><TaggedCards tagName={e}/></div>\n    })\n  }\n\n\n  return (\n    <div className={classes.root}>\n      \n\n        <Container maxWidth=\"lg\" className={classes.container}>\n            {/* From this article */}\n            <Grid item xs={11}>\n              <Paper className={classes.paper}>\n                {showTagCards}\n              </Paper>\n            </Grid>\n          \n\n        </Container>\n      \n    </div>\n  );\n}"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AAGA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;;;;;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAFA;AAyCA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AALA;AAOA;AACA;AACA;AACA;AACA;AAlDA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AAeA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAtEA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AADA;AAhB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","sourceRoot":""}